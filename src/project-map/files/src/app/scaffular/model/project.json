{"routes":[{"route":"/","description":"Display a summary of un-package events, grouped by genre/subgenre;\nDisplay a summary of bounced ticket emails;\nDisplay a summary of events that are low on seats;\nFor Approvers, display a list of events that need to be approved for public display\nDisplay a list of things that have unread messages;\nShow a list of events that have unhandled Alerts","forms":[],"exits":[{"route":"/events?scope=unpackaged","visibleText":"View Unpackaged Events","routeLocations":[""]},{"route":"/bounces","visibleText":"View Bounces","routeLocations":[""]},{"route":"/events?scope=low","visibleText":"View Low Events","routeLocations":[""]},{"route":"/events?scope=pending","visibleText":"View Pending Events","routeLocations":[""]},{"route":"/events/:eventId","visibleText":"View Event Message","routeLocations":[""]},{"route":"/orders/:orderId","visibleText":"View Order Message","routeLocations":[""]},{"route":"/events?scope=alerts","visibleText":"View Alerted Events","routeLocations":[""]}]},{"route":"/events/:eventId","description":"Event form with fields for description and genre, venue image selector and uploader, romance image uploader. For events from the same vendor as this one, try to pre-seed the info from the existing event. Terms list to specify one or more markup classes (percentile, dollar amount etc), along with \"Ignore\". Initial Terms list comes from the Sale Term Templates defined in the Vendor. Each term can have an optional start or end date. List of offers with starting price and a checkbox. Check the box for applicable offers, specify the sale term. While the boxes are checked, you can specify additional terms and they'll be added to the offers. Clicking the \"Ignore\" button with a checked offer will mark the offer without a package. View notes with info on who wrote it and when, add a new note. Accessing the page will update the messages to indicate that the user has read them.  The Approver version of the event page will show the event info, then group the offer packages into the Sale Term(s) it applies to. The Sale Term will have an \"Approve\" button. Once a Sale Term in an Event is approved by the requisite number of users, the packages that apply that term will be visible for selection on the Event Product Page.","forms":[{"action":{"name":"setVenueImage","description":"","button":{"attributes":"","type":"button","label":"Select Venue Image"}},"inputs":[]},{"action":{"name":"uploadVenueImage","description":"Upload the image to the API, add it to the list of venue images, apply it as the selected image","button":{"type":"button","label":"Upload Venue Image","attributes":""}},"inputs":[{"type":"file","label":"Select Image","attributes":"","value":""}]},{"action":{"name":"setEvent","description":"Send editable Event props to the API. Update the on-screen representation.","button":{"type":"button","label":"Set Event Details","attributes":""}},"inputs":[{"type":"text","label":"Description","attributes":"","value":""},{"type":"select","label":"Subgenre","attributes":"","value":"NHL,NFL,MBA,Indoor Event,Outdoor Event"}]},{"action":{"name":"setTerms","description":"Adds the selected terms to any checked offers. If this is the first terms applied to an offer it will change appearance slightly to show that it's been packaged","button":{"type":"button","label":"Select Terms","attributes":""}},"inputs":[]},{"action":{"name":"uploadRomanceImage","description":"Upload an event romance image to the API, replace the existing image for the event","button":{"type":"button","label":"Upload Romance Image","attributes":""}},"inputs":[{"type":"file","label":"Select Image","attributes":"","value":""}]},{"action":{"name":"updateTerms","description":"Updates existing terms as well as the markups of any offers using them","button":{"type":"button","label":"Update Terms","attributes":""}},"inputs":[{"type":"text","label":"Term Start Date","attributes":"placeholder=\"yyyy-mm-dd hh:mm\"","value":""},{"type":"text","label":"Term End Date","attributes":"placeholder=\"yyyy-mm-dd hh:mm\"","value":""}]},{"action":{"name":"addTerms","description":"Add a new markup Term to the list","button":{"type":"button","label":"Add Terms","attributes":""}},"inputs":[{"type":"text","label":"Term Start Date","attributes":"placeholder=\"yyyy-mm-dd hh:mm\"","value":""},{"type":"text","label":"Term End Date","attributes":"placeholder=\"yyyy-mm-dd hh:mm\"","value":""}]},{"action":{"name":"addNote","description":"Send note data to the API, add the note to the visual list","button":{"type":"button","label":"Add Note","attributes":""}},"inputs":[{"type":"text","label":"Note Text","attributes":"","value":""}]},{"action":{"name":"approveTerm","description":"Send request to the API server approving the specified Event for display on the app","button":{"type":"button","label":"Approve Term","attributes":""}},"inputs":[]}],"exits":[]},{"route":"/search","description":"Determine from the search text what type of thing is being searched, display a list of matching things. If there's no match display a message. If there's a single match, display the thing. If there's multiple matches, display a list","forms":[],"exits":[{"route":"/orders/:orderId","visibleText":"View Email Order","routeLocations":[""]},{"route":"/events/:eventId","visibleText":"View Matching Event","routeLocations":[""]},{"route":"/vendors/:vendorId","visibleText":"View Matching Vendor","routeLocations":[""]},{"route":"/venues/:venueId","visibleText":"View Matching Venue","routeLocations":[""]},{"route":"/users/:userId","visibleText":"View Matching User","routeLocations":[""]}]},{"route":"/orders/:orderId","description":"Display the line items for the order, purchaser and gift recipient. Display list of existing notes, who and when, along with basket status (fulfilled reported etc). Viewing this page updates existing notes to say they've been read by the current user","forms":[{"action":{"name":"doResend","description":"","button":{"attributes":"","type":"button","label":"Resend Order"}},"inputs":[]},{"action":{"name":"doNote","description":"","button":{"attributes":"","type":"button","label":"Add Note"}},"inputs":[]},{"action":{"name":"updateEmail","description":"","button":{"attributes":"","type":"button","label":"Change Email"}},"inputs":[]},{"action":{"name":"updateGiftEmail","description":"","button":{"attributes":"","type":"button","label":"Change Gift Email"}},"inputs":[]}],"exits":[]},{"route":"/events","description":"Display a list of events, with a form to filter or search. Store current form props in session storage for persistence. Event status column ('packaged', 'unpackaged') will be colour-coordinated","forms":[{"action":{"name":"doSearch","description":"Sends a new Event search to the API and updates the visible results","button":{"type":"button","label":"Search","attributes":""},"exit":{"route":"","visibleText":"","routeLocations":["search"]}},"inputs":[{"type":"text","label":"Search Term","attributes":"","value":""},{"type":"text","label":"Date Start","attributes":"","value":""},{"type":"text","label":"Date End","attributes":"","value":""},{"type":"checkbox","label":"Include Events","attributes":"","value":"Packaged,Unpackaged,Pending,Low Inventory,Alerts"},{"type":"select","label":"Venue","attributes":"","value":"Venue 1,Venue 2"},{"type":"select","label":"Vendor","attributes":"","value":"Vendor 1,Vendor 2"}]}],"exits":[{"route":"/events/:eventId","visibleText":"View Event","routeLocations":["list-item"]}]},{"route":"/reports","description":"Displays list of reports ","forms":[],"exits":[{"route":"/reports/new","visibleText":"Add a report","routeLocations":["list-extra"]},{"route":"/reports/edit/:reportId","visibleText":"Edit Report","routeLocations":["list-action"]},{"route":"/reports/:reportId","visibleText":"View Report","routeLocations":["list-item"]}]},{"route":"/reports/new","description":"Displays a form to create a new report","forms":[{"action":{"name":"doReport","description":"","button":{"type":"button","label":"Create","attributes":""},"exit":{"visibleText":"","route":"/reports/:reportId","routeLocations":["","general"]}},"inputs":[{"type":"text","label":"Name","attributes":"","value":""}]}],"exits":[{"route":"/reports","visibleText":"Cancel","routeLocations":[""]}]},{"route":"/reports/edit/:reportId","description":"Display form to change the specifications of an existing form","forms":[{"action":{"name":"doReport","description":"","button":{"type":"button","label":"Update","attributes":""},"exit":{"visibleText":"","route":"/reports/:reportId","routeLocations":["","general"]}},"inputs":[{"type":"text","label":"Name","attributes":"","value":""}]}],"exits":[{"route":"/reports","visibleText":"Cancel","routeLocations":[""]}]},{"route":"/reports/:reportId","description":"Display a report","forms":[{"action":{"name":"doPrint","description":"","button":{"attributes":"","type":"button","label":"Print"}},"inputs":[]}],"exits":[{"route":"/reports","visibleText":"Back","routeLocations":[""]}]},{"route":"/bounces","description":"Display list of bounced emails, with controls to manage them","forms":[{"action":{"name":"doEmailUpdate","description":"Send updated email addresses to basket API ","button":{"type":"button","label":"Update Emails","attributes":""}},"inputs":[{"type":"email","label":"Member Email","attributes":"","value":""},{"type":"email","label":"Gift Recipient Email","attributes":"","value":""}]},{"action":{"name":"doEmailResend","description":"Send an API request to queue a new send-email job","button":{"type":"button","label":"Resend Emails","attributes":""}},"inputs":[]}],"exits":[]},{"route":"/venues","description":"List of Venues with controls, filterable and searchable","forms":[{"action":{"name":"doFilter","description":"Sends new search request to API, updates visible list of Venues","button":{"type":"button","label":"Filter","attributes":""},"exit":{"visibleText":"","route":"","routeLocations":["search"]}},"inputs":[{"type":"text","label":"Venue Name","attributes":"","value":""},{"type":"text","label":"City","attributes":"","value":""},{"type":"checkbox","label":"TSP","attributes":"","value":"TicketMaster,SeatGeek"}]}],"exits":[{"route":"/venues/:venueId","visibleText":"View Venue","routeLocations":["list-item"]}]},{"route":"/venues/:venueId","description":"Display details of existing Venue, including count of Events with link to appropriate search","forms":[],"exits":[{"route":"/venues/:venueId/edit","visibleText":"Edit Venue","routeLocations":[""]},{"route":"/events","visibleText":"View Matching Events","routeLocations":[""]}]},{"route":"/vendors","description":"Display list of vendors","forms":[],"exits":[{"route":"/vendors/:vendorId","visibleText":"View Vendor","routeLocations":["list-item"]},{"route":"/vendors/new","visibleText":"Add Vendor","routeLocations":["list-extra"]}]},{"route":"/orders","description":"Display list of orders, with form to filter or search","forms":[{"action":{"name":"doSearch","description":"Send a search request to the API, update the visible list","button":{"type":"button","label":"Search","attributes":""},"exit":{"route":"","visibleText":"","routeLocations":["search"]}},"inputs":[{"type":"email","label":"Member/Gift Email","attributes":"","value":""},{"type":"text","label":"Date Start","attributes":"","value":""},{"type":"text","label":"Date End","attributes":"","value":""}]}],"exits":[{"route":"/orders/:orderId","visibleText":"View Order","routeLocations":["list-item"]}]},{"route":"/users","description":"Display list of users, their roles and status, and search form","forms":[{"action":{"name":"doSearch","description":"Send search request to API, update visible list of users","button":{"type":"button","label":"Search","attributes":""},"exit":{"route":"","visibleText":"","routeLocations":["search"]}},"inputs":[{"type":"text","label":"Name","attributes":"","value":""},{"type":"select","label":"Status","attributes":"","value":"Any,Active,Inactive"}]},{"action":{"name":"toggleStatus","description":"","button":{"attributes":"","type":"button","label":"Toggle Status"},"exit":{"route":"","visibleText":"","routeLocations":["list-action"]}},"inputs":[]}],"exits":[{"route":"/users/new","visibleText":"Add User","routeLocations":["list-extra"]},{"route":"/users/:userId","visibleText":"View User","routeLocations":["list-item"]}]},{"route":"/users/new","description":"Display form to add a user","forms":[{"action":{"name":"doUser","description":"Send new user information to the API.","button":{"type":"button","label":"Continue","attributes":""},"exit":{"visibleText":"","route":"/users/:userId","routeLocations":["","general"]}},"inputs":[{"type":"text","label":"First Name","attributes":"","value":""},{"type":"text","label":"Last Name","attributes":"","value":""},{"type":"select","label":"Role","attributes":"","value":"Agent,Clerk,Manager,Admin"},{"type":"email","label":"Email","attributes":"","value":""},{"type":"text","label":"Phone Number","attributes":"","value":""}]}],"exits":[{"route":"/users","visibleText":"Cancel","routeLocations":[""]}]},{"route":"/users/:userId","description":"Display a form to edit an existing user","forms":[{"action":{"name":"doUser","description":"Send updated user data to API. Display confirmation message and close it after 1 second","button":{"type":"button","label":"Continue","attributes":""}},"inputs":[{"type":"text","label":"First Name","attributes":"","value":""},{"type":"text","label":"Last Name","attributes":"","value":""},{"type":"email","label":"Email","attributes":"","value":""},{"type":"select","label":"Role","attributes":"","value":"Agent,Clerk,Manager,Admin"},{"type":"text","label":"Phone Number","attributes":"","value":""},{"type":"radio","label":"Status","attributes":"","value":"Active,Inactive"}]}],"exits":[{"route":"/users","visibleText":"Cancel","routeLocations":[""]}]},{"route":"/vendors/:vendorId/edit","description":"","forms":[{"action":{"name":"doUpdate","description":"Send vendor info in API request","button":{"type":"button","label":"Update","attributes":""},"exit":{"visibleText":"","route":"/vendors/:vendorId","routeLocations":["","general"]}},"inputs":[{"type":"text","label":"Name","attributes":"","value":""},{"type":"text","label":"Address 1","attributes":"","value":""},{"type":"text","label":"Address 2","attributes":"","value":""},{"type":"text","label":"Address 3","attributes":"","value":""},{"type":"text","label":"Address 4","attributes":"","value":""},{"type":"text","label":"Locality","attributes":"","value":""},{"type":"text","label":"Region","attributes":"","value":""},{"type":"text","label":"Country","attributes":"","value":""},{"type":"text","label":"Postal/Zip","attributes":"","value":""},{"type":"text","label":"Vendor Contact Name","attributes":"","value":""},{"type":"text","label":"Vendor Contact Phone","attributes":"","value":""}]}],"exits":[{"route":"/vendors/:vendorId","visibleText":"Cancel","routeLocations":[""]}]},{"route":"/venues/:venueId/edit","description":"Display form to edit properties of a Venue","forms":[{"action":{"name":"doUpdate","description":"Send updated Venue info to API","button":{"type":"button","label":"Update","attributes":""}},"inputs":[{"type":"text","label":"Name","attributes":"","value":""},{"type":"text","label":"Address 1","attributes":"","value":""},{"type":"text","label":"Address 2","attributes":"","value":""},{"type":"text","label":"Address 3","attributes":"","value":""},{"type":"text","label":"Address 4","attributes":"","value":""},{"type":"text","label":"Locality","attributes":"","value":""},{"type":"text","label":"Region","attributes":"","value":""},{"type":"text","label":"Country","attributes":"","value":""},{"type":"text","label":"Postal/Zip","attributes":"","value":""},{"type":"text","label":"Lat","attributes":"","value":""},{"type":"text","label":"Long","attributes":"","value":""},{"type":"text","label":"Venue Contact Name","attributes":"","value":""},{"type":"text","label":"Venue Contact Phone","attributes":"","value":""}]},{"action":{"name":"deleteImage","description":"Send API request to delete Venue image","button":{"type":"button","label":"Delete Image","attributes":""}},"inputs":[]},{"action":{"name":"uploadImage","description":"Send API request to add a new Venue Image","button":{"type":"button","label":"Add","attributes":""}},"inputs":[{"type":"file","label":"New Image","attributes":"accept=\"image/*\"","value":""}]}],"exits":[{"route":"/venues/:venueId","visibleText":"Cancel","routeLocations":[""]}]},{"route":"/vendors/:vendorId","description":"Display Vendor details, along with count of associated Events which links to Events page with appropriate search","forms":[],"exits":[{"route":"/vendors/:vendorId/edit","visibleText":"Edit Vendor","routeLocations":[""]},{"route":"/vendors/:vendorId/term-templates","visibleText":"Edit Term Templates","routeLocations":[""]},{"route":"/events","visibleText":"View Matching Events","routeLocations":[""]}]},{"route":"/vendors/:vendorId/term-templates","description":"Display a series of cards showing predefined Sale Term Templates, in addition to an \"Add\" button, which creates a blank card. Each card will have an edit button which changes the card into a form. When editing a template, the user will be able to add one or more Sale Term Parties (payees) and specify a % or $ cut. The form will have a \"Save\" button, which saves the info and returns the form to a card, and a \"Cancel\" button, which returns the form to a card without saving","forms":[{"action":{"name":"doSave","description":"Sends the new or updated information to the API","button":{"type":"button","label":"Save","attributes":""}},"inputs":[]}],"exits":[{"route":"/vendors/:vendorId","visibleText":"Done","routeLocations":[""]}]},{"route":"/payees","description":"Display a list of entities that will can get paid a cut of the package markups","forms":[],"exits":[{"route":"/payees/new","visibleText":"Add Payee","routeLocations":["list-extra"]},{"route":"/payees/:payeeId","visibleText":"Edit Payee","routeLocations":["list-item"]}]},{"route":"/payees/new","description":"Display a form to define the properties of a new Payee","forms":[{"action":{"name":"doInsert","description":"Send the new Payee info the API","button":{"type":"button","label":"Save","attributes":""}},"inputs":[{"type":"text","label":"Name","attributes":"","value":""},{"type":"text","label":"Contact Name","attributes":"","value":""},{"type":"text","label":"Contact Phone","attributes":"","value":""}]}],"exits":[{"route":"/payees","visibleText":"Cancel","routeLocations":[""]}]},{"route":"/payees/:payeeId","description":"Display a form to define the updated properties of an existing Payee","forms":[{"action":{"name":"doUpdate","description":"Sends the updated Payee info to the API","button":{"type":"button","label":"Save","attributes":""}},"inputs":[{"type":"text","label":"Name","attributes":"","value":""},{"type":"text","label":"Contact Name","attributes":"","value":""},{"type":"text","label":"Contact Phone","attributes":"","value":""}]}],"exits":[{"route":"/payees","visibleText":"Cancel","routeLocations":[""]}]},{"route":"/vendors/new","description":"Display a form to create a new Vendor","forms":[{"action":{"name":"doInsert","description":"Send the new vendor info to the API","button":{"type":"button","label":"Save","attributes":""},"exit":{"visibleText":"","route":"/vendors/:vendorId","routeLocations":["","general"]}},"inputs":[{"type":"text","label":"Name","attributes":"","value":""},{"type":"text","label":"Address 1","attributes":"","value":""},{"type":"text","label":"Address 2","attributes":"","value":""},{"type":"text","label":"Address 3","attributes":"","value":""},{"type":"text","label":"Address 4","attributes":"","value":""},{"type":"text","label":"Locality","attributes":"","value":""},{"type":"text","label":"Region","attributes":"","value":""},{"type":"text","label":"Country","attributes":"","value":""},{"type":"text","label":"Postal/Zip","attributes":"","value":""},{"type":"text","label":"Contact Name","attributes":"","value":""},{"type":"text","label":"Contact Phone","attributes":"","value":""}]}],"exits":[{"route":"/vendors","visibleText":"Cancel","routeLocations":[""]}]}],"globalExits":[{"route":"/","visibleText":"Dashboard"},{"route":"/reports","visibleText":"Reporting","routeLocations":[""]},{"route":"/bounces","visibleText":"Bounces","routeLocations":[""]},{"route":"/venues","visibleText":"Venues","routeLocations":[""]},{"route":"/vendors","visibleText":"Vendors","routeLocations":[""]},{"route":"/events","visibleText":"Events","routeLocations":[""]},{"route":"/search","visibleText":"Multi Field Search","routeLocations":["multi-search"]},{"route":"/orders","visibleText":"View Orders","routeLocations":[""]},{"route":"/users","visibleText":"Users","routeLocations":[""]},{"route":"/payees","visibleText":"Term Payees","routeLocations":[""]}]}